version: 2

metrics:
  - name: total_current_balance
    type: SIMPLE
    type_params:
      measure: current_balance
    label: "Total Current Balance"
    description: "The total outstanding balance of all loans as of the reporting date"
    meta:
      format: currency

  - name: total_delinquent_balance
    type: SIMPLE
    type_params:
      measure: delinquent_balance
    label: "Total Delinquent Balance"
    description: "The total balance of delinquent loans as of the reporting date"
    meta:
      format: currency

  - name: delinquency_rate
    type: ratio
    type_params:
      numerator: total_delinquent_balance
      denominator: total_current_balance
    label: "Delinquency Rate"
    description: "The percentage of loan balance that is delinquent"
    meta:
      format: percentage

  - name: average_occupancy
    type: SIMPLE
    type_params:
      measure: average_occupancy
    label: "Average Occupancy"
    description: "The average occupancy percentage across properties"
    meta:
      format: percentage

  - name: average_dscr
    type: SIMPLE
    type_params:
      measure: average_dscr
    label: "Average DSCR"
    description: "The average debt service coverage ratio across properties"
    meta:
      format: decimal

  - name: total_loan_count
    type: SIMPLE
    type_params:
      measure: loan_count
    label: "Total Loan Count"
    description: "The total number of loans"
    meta:
      format: number

  - name: average_interest_rate
    type: SIMPLE
    type_params:
      measure: average_interest_rate
    label: "Average Interest Rate"
    description: "The average interest rate across loans"
    meta:
      format: percentage

  - name: total_property_count
    type: SIMPLE
    type_params:
      measure: property_count
    label: "Total Property Count"
    description: "The total number of properties"
    meta:
      format: number

  - name: average_valuation_change
    type: SIMPLE
    type_params:
      measure: valuation_change_pct
    label: "Average Valuation Change %"
    description: "The average percentage change in property valuation from securitization"
    meta:
      format: percentage 